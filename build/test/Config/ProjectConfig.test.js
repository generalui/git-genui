"use strict"
let Caf = require('caffeine-script-runtime');
Caf.defMod(module, () => {let parentImports; return Caf.importInvoke(["Config"], parentImports = [global, require('../StandardImport')], (Config) => {return Caf.importInvoke(["chainedTest", "ConfigShared", "ProjectConfig", "assert", "JSON", "projectConfig"], [parentImports, Config], (chainedTest, ConfigShared, ProjectConfig, assert, JSON, projectConfig) => {let projectFolder, initialFiles; projectFolder = "testProject"; initialFiles = {[projectFolder]: {".git": {config: "[core]"}}}; return chainedTest("initialize mock fs", function() {ConfigShared.mockFs(initialFiles); return new ProjectConfig;}).tapTest(["load", function(projectConfig) {return projectConfig.init();}], ["load doesn't vivify", function() {return assert.eq(ConfigShared.fs.getTree(), initialFiles);}], ["projectConfig.setConfigProperty :a :b", function(projectConfig) {return projectConfig.setConfigProperty("a", "b");}], ["setConfigProperty should automatically save", function() {return assert.eq(JSON.parse(ConfigShared.fs.readFileSync(`${Caf.toString(projectConfig.configPath)}/${Caf.toString(projectConfig.configBasename)}`)), {a: "b"});}]);});});});
//# sourceMappingURL=ProjectConfig.test.js.map
