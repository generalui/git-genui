import &StandardImport
GitGenUI.Trackers extract PivotalTracker
suite: ->
  chainedTest :getProjects ->
    PivotalTracker.getProjects()
    .then (results) ->
      assert.isArray results
      assert.gt results.length, 0
      assert.eq results[0].kind, :project
      results[0]

  .tapTest
    :getStories (project) ->
      PivotalTracker.getStories project.id
      .then (results) ->
        assert.isArray results
        assert.gt results.length, 0
        assert.eq
          Object.keys results[0]
          .sort()
          []
            :createdAt
            :id
            :name
            :ownerIds
            :requestedById
            :state
            :updatedAt
            :url

    :getMembers (project) ->
      PivotalTracker.getMembers project.id
      .then (results) ->
        assert.isArray results
        assert.gt results.length, 0
        assert.eq
          Object.keys results[0]
          .sort()
          :email, :id, :name