import &ArtStandardLib
fs = &fsExtra


run: ->
  &Config.load()
  .tap -> &UserConfig.userConfig.readyPromise
  .tap (config) -> &Tracker.tracker.init config
  .then ->
    commands = object m from &Commands.modules when m.description is String
    require :@art-suite/cli
    .start
      commands: object {run} in commands with run
      help: commands: object m in commands
        merge m, options: verbose: "" run with verbose logging
