import &StandardImport, &UserConfig

{}
  updateStateWithPrompt = (statePropName, promptF) ->
    (state) ->
      Promise.then -> promptF state
      .then (value) ->
        if value == undefined then state[statePropName]
        else value
      .then (value) -> merge state, [statePropName]: value

  menuApp = (state, menuF) ->
    menuF state
    .then ({action}) -> if action?
      Promise.then -> action state
      .then (newState) -> menuApp newState ? state, menuF
